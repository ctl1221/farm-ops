<?php

use App\Harvest;
use App\Delivery;
use App\TruckWeighing;
use Illuminate\Database\Seeder;

class TransactionsHarvestSeeder extends Seeder
{
    
    public function run()
    {
        //RS Slip - Farm A

        $date_array = [
            '2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23',
            '2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23',
            '2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23',
            '2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23',
            '2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-23','2018-11-26',
            '2018-11-26','2018-11-26','2018-11-26','2018-11-26','2018-11-26','2018-11-26','2018-11-26',
            '2018-11-26','2018-11-27','2018-11-27','2018-11-27','2018-11-27','2018-11-27','2018-11-27',
            '2018-11-27','2018-11-27','2018-11-27','2018-11-27','2018-11-27','2018-11-27','2018-11-27',
            '2018-11-28','2018-11-28','2018-11-28'
        ];

        $control_array = [
            '436222','436220','436219','436221','436217','436218','436216',
            '436224','436223','436240','436242','436241','436243','436244',
            '422057','422065','422058','422056','422055','422054','422053',
            '422052','422060','422059','422062','422061','422063','422064',
            '436228','436245','0956935','0956938','0966130','0966132','440718',
            '440719','440720','447455','447453','447456','447454','447451',
            '447452','0957803','0907473','0908109','0957812','0907469','435093',
            '435094','447483','447484','0908257','447486','447487','447475',
            '422161','426034','0908276'
        ];

        $farm_weight_array = [
            3050, 3260, 3480, 3090, 3430, 3590, 2990,
            3180, 3040, 3450, 2690, 3290, 3940, 3810,
            3360, 2720, 2710, 3360, 2970, 3460, 3780,
            2790, 3010, 3570, 3550, 3000, 2940, 2890,
            2630, 2640, 3710, 3680, 2710, 2700, 2560,
            3110, 2260, 3150, 2930, 2920, 2930, 2870, 
            2760, 3760, 3220, 2980, 3690, 3070, 2510,
            3030, 3050, 2980, 3620, 3450, 3650, 3530,
            3070, 3020, 2840
        ];

        $n = count($date_array);
        for($i = 0; $i < $n; $i++)
        {
            $harvest = Harvest::create([
                'farm_id' => 1,
                'date' => $date_array[$i],
                'control_no' => $control_array[$i],
                'dressing_plant' => 'IP4 Lipa',
                'truck_plate_no' => 'RHJ 916',
                'coops_per_truck' => 232,
                'total_harvested' => 1624,
                'alw_rate' => $i+1,
            ]);

            Delivery::create([
                'harvest_id' => $harvest->id,
                'shift' => 'D',
                'time_in_plant' => '05:47',
                'time_weighed_plant' => '08:10',
                'kg_plant_net_weight' => '3021.9',
                'kg_plant_feeds_in_crop' => '0.00',
                'kg_adjusted_net_weight' => '3062.23', 
                'alw_rate' => '5.8'
            ]);

            TruckWeighing::create([
                'activity_id' => $harvest->id,
                'activity_type' => 'App\Harvest',
                'kg_net_weight' => $farm_weight_array[$i],
                'ticket_no' => $i+1,
            ]);
        }

    }
}
